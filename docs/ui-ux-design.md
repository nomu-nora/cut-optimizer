# UI/UX設計書

**プロジェクト**: 取り数最適化システム v1.2.1
**作成日**: 2025年12月2日
**最終更新**: 2025年12月10日 (v1.2.1 UI改善)

---

## 1. デザインコンセプト

### 1.1 基本方針

**キーワード**: シンプル、直感的、視覚的

- **誰でも使える**: 説明不要で直感的に操作できる
- **視覚的にわかりやすい**: 配置図を大きく、色分けで区別
- **ストレスフリー**: 無駄なクリックや遷移を排除
- **印刷しやすい**: 印刷時のレイアウトを重視

### 1.2 ターゲットユーザー

- **年齢層**: 30代〜60代
- **ITリテラシー**: 中程度（基本的なPC操作は可能）
- **使用環境**: PC（デスクトップ）、将来的にタブレット対応

### 1.3 v1.2.1 UI改善のポイント

**更新日**: 2025年12月10日

v1.2.1では、ユーザーワークフローの改善を目的としたUI変更を実施しました：

#### 主な変更点

1. **アルゴリズム選択のアコーディオン化**
   - 選択中のアルゴリズムのみ表示（Guillotine Cut / Maximal Rectangles）
   - クリックで展開し、視覚的にわかりやすく選択
   - スペース効率が向上

2. **計算実行セクションの配置変更**
   - **変更前**: 入力エリアの下部に配置
   - **変更後**: 結果表示エリアの上部に配置
   - **理由**: 設定変更→計算→比較検討のワークフローがスムーズに

3. **計算実行ボタンの強調**
   - より大きく、視覚的に目立つデザイン
   - ローディング表示の改善
   - ヒント表示の追加

4. **新規コンポーネント**
   - `AlgorithmSelector`: アコーディオン式アルゴリズム選択
   - `CalculationControl`: 計算実行セクション統合UI
     - アルゴリズム選択
     - 最適化目標選択
     - オプション設定（GA、グリッド配置）
     - 計算実行ボタン

#### ワークフロー改善

```
【改善前】
入力 → 下にスクロール → 計算ボタン → 結果を見る → 設定変更 → また下にスクロール

【改善後】
入力 → 結果エリアの計算セクションで設定・実行 → すぐ下に結果 → 設定変更・再計算が容易
```

---

## 2. ワイヤーフレーム

### 2.1 メインページ（デスクトップ）v1.2.1

```
┌─────────────────────────────────────────────────────────────────┐
│  [ロゴ] 取り数最適化システム v1.2.1                   [ヘルプ]    │
└─────────────────────────────────────────────────────────────────┘

┌──────────────────────────┬──────────────────────────────────────┐
│                          │                                      │
│   【入力エリア】           │        【結果表示エリア】              │
│                          │                                      │
│  ┌────────────────────┐  │  ┌──────────────────────────────┐  │
│  │ 元板設定            │  │  │ 計算実行セクション            │  │
│  │                    │  │  │                              │  │
│  │ 幅: [1820] mm      │  │  │ アルゴリズム: ▼              │  │
│  │ 高さ: [910] mm     │  │  │ [Maximal Rectangles]         │  │
│  │ 単価: [0] 円       │  │  │                              │  │
│  └────────────────────┘  │  │ 最適化目標:                  │  │
│                          │  │ ◉ 歩留まり優先  ○ 余り優先   │  │
│  ┌────────────────────┐  │  │                              │  │
│  │ 切断設定            │  │  │ オプション:                  │  │
│  │                    │  │  │ ☑ グリッド配置               │  │
│  │ カット幅: [4] mm   │  │  │ ☑ 遺伝的アルゴリズム (GA)    │  │
│  │ 余白: [20] mm      │  │  │                              │  │
│  └────────────────────┘  │  │    [ 計算実行 ▶ ]            │  │
│                          │  │                              │  │
│  ┌────────────────────┐  │  └──────────────────────────────┘  │
│  │ 製品入力            │  │                                      │
│  │                    │  │  ┌──────────────────────────────┐  │
│  │ [製品追加フォーム]  │  │  │ サマリー                      │  │
│  │                    │  │  │                              │  │
│  │ 登録済み製品:       │  │  │ 必要元板: 12 枚              │  │
│  │ ┌─────────────┐   │  │  │ 平均歩留まり: 87.5%          │  │
│  │ │ アイテムA      │   │  │  │ 総コスト: ¥0                 │  │
│  │ │ 300×200×10個 │   │  │  └──────────────────────────────┘  │
│  │ │ [編集][削除]   │   │  │                                      │
│  │ └─────────────┘   │  │  ┌──────────────────────────────┐  │
│  │ ┌─────────────┐   │  │  │ パターン一覧                  │  │
│  │ │ アイテムB      │   │  │  │                              │  │
│  │ │ 500×400×5個  │   │  │  │ ┌────────┐  ┌────────┐       │  │
│  │ │ [編集][削除]   │   │  │  │ │パターンA│  │パターンB│       │  │
│  │ └─────────────┘   │  │  │ │  ×5枚  │  │  ×3枚  │       │  │
│  └────────────────────┘  │  │ │        │  │        │       │  │
│                          │  │ │ 配置図  │  │ 配置図  │       │  │
│  ┌────────────────────┐  │  │ │        │  │        │       │  │
│  │ [すべてクリア]      │  │  │ │ 87.5%  │  │ 85.2%  │       │  │
│  └────────────────────┘  │  │ └────────┘  └────────┘       │  │
│                          │  │                              │  │
│                          │  │ ┌────────┐  ┌────────┐       │  │
│                          │  │ │パターンC│  │パターンD│       │  │
│                          │  │ │  ×2枚  │  │  ×2枚  │       │  │
│                          │  │ │        │  │        │       │  │
│                          │  │ │ 配置図  │  │ 配置図  │       │  │
│                          │  │ │        │  │        │       │  │
│                          │  │ │ 90.1%  │  │ 88.3%  │       │  │
│                          │  │ └────────┘  └────────┘       │  │
│                          │  │                              │  │
│                          │  └──────────────────────────────┘  │
│                          │                                      │
│                          │  ┌──────────────────────────────┐  │
│                          │  │ [印刷]  [結果をクリア]         │  │
│                          │  └──────────────────────────────┘  │
│                          │                                      │
└──────────────────────────┴──────────────────────────────────────┘
```

**v1.2.1での主な変更点**:

- ✅ 計算実行セクションを結果エリア上部に移動
- ✅ アルゴリズム選択をアコーディオン形式に変更
- ✅ 最適化目標、オプション設定を統合
- ✅ 入力エリアがシンプルに（元板・切断・製品のみ）
- ✅ 設定変更→計算→比較のワークフローが改善

### 2.2 レスポンシブ（タブレット・モバイル）

```
┌─────────────────────────────────┐
│  [≡] 取り数最適化システム        │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│   【入力エリア】                 │
│                                 │
│  ┌───────────────────────────┐  │
│  │ 元板設定                   │  │
│  │ 幅: [1820] mm             │  │
│  │ 高さ: [910] mm            │  │
│  │ 単価: [0] 円              │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │ 切断設定                   │  │
│  │ カット幅: [4] mm          │  │
│  │ 余白: [20] mm             │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │ 製品入力                   │  │
│  │ [製品追加フォーム]         │  │
│  │                           │  │
│  │ 登録済み製品:              │  │
│  │ ┌────────────────────┐   │  │
│  │ │ アイテムA             │   │  │
│  │ │ 300×200×10個        │   │  │
│  │ └────────────────────┘   │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │ [計算実行]                 │  │
│  └───────────────────────────┘  │
│                                 │
└─────────────────────────────────┘

↓ スクロール ↓

┌─────────────────────────────────┐
│   【結果表示エリア】             │
│                                 │
│  ┌───────────────────────────┐  │
│  │ サマリー                   │  │
│  │ 必要元板: 12 枚           │  │
│  │ 平均歩留まり: 87.5%       │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │ パターンA ×5枚            │  │
│  │                           │  │
│  │ [配置図]                  │  │
│  │                           │  │
│  │ 歩留まり: 87.5%           │  │
│  └───────────────────────────┘  │
│                                 │
│  ┌───────────────────────────┐  │
│  │ パターンB ×3枚            │  │
│  │                           │  │
│  │ [配置図]                  │  │
│  │                           │  │
│  │ 歩留まり: 85.2%           │  │
│  └───────────────────────────┘  │
│                                 │
└─────────────────────────────────┘
```

---

## 3. 画面構成の詳細

### 3.1 ヘッダー

```
┌─────────────────────────────────────────────────────────────┐
│  [ロゴ] 取り数最適化システム v1.0               [ヘルプ] [?]  │
└─────────────────────────────────────────────────────────────┘
```

**構成要素**:

- アプリ名・バージョン表示
- ヘルプボタン（使い方ガイドへのリンク）
- シンプルで邪魔にならないデザイン

### 3.2 入力エリア

#### 3.2.1 元板設定フォーム

```
┌────────────────────────────────────┐
│ 元板設定                            │
├────────────────────────────────────┤
│                                    │
│ 幅 (mm) *                          │
│ ┌────────────────────────────────┐ │
│ │ 1820                           │ │
│ └────────────────────────────────┘ │
│                                    │
│ 高さ (mm) *                        │
│ ┌────────────────────────────────┐ │
│ │ 910                            │ │
│ └────────────────────────────────┘ │
│                                    │
│ 単価 (円)                          │
│ ┌────────────────────────────────┐ │
│ │ 0                              │ │
│ └────────────────────────────────┘ │
│                                    │
└────────────────────────────────────┘
```

**特徴**:

- デフォルト値が入力済み（サブロク板: 1820×910mm）
- 必須項目には `*` マーク
- 単価は任意（0円でもOK）

#### 3.2.2 切断設定フォーム

```
┌────────────────────────────────────┐
│ 切断設定                            │
├────────────────────────────────────┤
│                                    │
│ カット幅 (mm) *                    │
│ ┌────────────────────────────────┐ │
│ │ 4                              │ │
│ └────────────────────────────────┘ │
│ (刃の幅)                           │
│                                    │
│ 余白 (mm) *                        │
│ ┌────────────────────────────────┐ │
│ │ 20                             │ │
│ └────────────────────────────────┘ │
│ (元板の端の保険スペース)            │
│                                    │
└────────────────────────────────────┘
```

**特徴**:

- デフォルト値が入力済み（カット幅4mm、余白20mm）
- 説明文を追加して理解しやすく

#### 3.2.3 製品入力フォーム

```
┌────────────────────────────────────┐
│ 製品入力                            │
├────────────────────────────────────┤
│                                    │
│ 製品名 *                           │
│ ┌────────────────────────────────┐ │
│ │ アイテムA                       │ │
│ └────────────────────────────────┘ │
│                                    │
│ 幅 (mm) *        高さ (mm) *       │
│ ┌──────────────┐ ┌──────────────┐ │
│ │ 300          │ │ 200          │ │
│ └──────────────┘ └──────────────┘ │
│                                    │
│ 必要個数 *                         │
│ ┌────────────────────────────────┐ │
│ │ 10                             │ │
│ └────────────────────────────────┘ │
│                                    │
│ 色                                 │
│ ┌────────────────────────────────┐ │
│ │ [■] ランダムに割り当て          │ │
│ └────────────────────────────────┘ │
│                                    │
│        [製品を追加]                 │
│                                    │
└────────────────────────────────────┘
```

**特徴**:

- 製品名、サイズ、個数を入力
- 色は自動割り当て（同じ製品名なら同じ色）
- 「製品を追加」ボタンでリストに追加

#### 3.2.4 登録済み製品リスト

```
┌────────────────────────────────────┐
│ 登録済み製品 (3件)                  │
├────────────────────────────────────┤
│                                    │
│ ┌────────────────────────────────┐ │
│ │ [■] アイテムA                  │ │
│ │ サイズ: 300 × 200 mm           │ │
│ │ 個数: 10個                     │ │
│ │                  [編集] [削除] │ │
│ └────────────────────────────────┘ │
│                                    │
│ ┌────────────────────────────────┐ │
│ │ [■] アイテムB                  │ │
│ │ サイズ: 500 × 400 mm           │ │
│ │ 個数: 5個                      │ │
│ │                  [編集] [削除] │ │
│ └────────────────────────────────┘ │
│                                    │
│ ┌────────────────────────────────┐ │
│ │ [■] アイテムC                  │ │
│ │ サイズ: 150 × 300 mm           │ │
│ │ 個数: 20個                     │ │
│ │                  [編集] [削除] │ │
│ └────────────────────────────────┘ │
│                                    │
│           [すべてクリア]            │
│                                    │
└────────────────────────────────────┘
```

**特徴**:

- カード形式で見やすく表示
- 色アイコンで視覚的に区別
- 編集・削除ボタンで管理
- 「すべてクリア」で一括削除

#### 3.2.5 アルゴリズム選択（AlgorithmSelector）v1.2.1

```
┌────────────────────────────────────┐
│ アルゴリズム                        │
├────────────────────────────────────┤
│                                    │
│ ┌────────────────────────────────┐ │
│ │ Maximal Rectangles         ▼  │ │  (クリックで展開)
│ └────────────────────────────────┘ │
│                                    │
└────────────────────────────────────┘

【展開時】
┌────────────────────────────────────┐
│ アルゴリズム                        │
├────────────────────────────────────┤
│                                    │
│ ○ Guillotine Cut                  │
│   ギロチンカット制約あり            │
│   高速だが柔軟性が低い              │
│                                    │
│ ◉ Maximal Rectangles              │
│   L字型スペースも活用可能           │
│   より高い歩留まり                  │
│                                    │
└────────────────────────────────────┘
```

**特徴** (v1.2.1):

- アコーディオン形式で省スペース
- 選択中のアルゴリズムのみ表示
- クリックで展開し、説明付きで選択
- 視覚的にわかりやすいUI

#### 3.2.6 計算実行セクション（CalculationControl）v1.2.1

```
┌────────────────────────────────────┐
│ 計算実行                            │
├────────────────────────────────────┤
│                                    │
│ アルゴリズム                        │
│ ┌────────────────────────────────┐ │
│ │ Maximal Rectangles         ▼  │ │
│ └────────────────────────────────┘ │
│                                    │
│ 最適化目標                          │
│ ◉ 歩留まり優先  ○ 余りスペース優先  │
│                                    │
│ オプション                          │
│ ☑ グリッド配置（同サイズ製品）      │
│ ☑ 遺伝的アルゴリズム (GA)          │
│   └ 計算時間: 約10-20秒            │
│                                    │
│    ┌──────────────────────────┐   │
│    │     [▶] 計算実行         │   │  (大きく目立つボタン)
│    └──────────────────────────┘   │
│                                    │
│ 💡 異なる設定で計算・比較できます    │
│                                    │
└────────────────────────────────────┘
```

**特徴** (v1.2.1):

- 結果エリア上部に配置
- アルゴリズム、目標、オプションを統合
- 大きく目立つ計算実行ボタン
- ヒント表示でUXを向上
- ローディング中はスピナーを表示
- 設定変更→計算→比較のワークフローが自然に

**配置変更の理由**:

- **改善前**: 入力エリア下部 → スクロールが必要
- **改善後**: 結果エリア上部 → すぐに計算・比較可能
- 複数の設定で試行錯誤しやすい設計

### 3.3 結果表示エリア

#### 3.3.1 サマリー表示

```
┌────────────────────────────────────────────────────────┐
│ 計算結果                                               │
├────────────────────────────────────────────────────────┤
│                                                        │
│  必要元板枚数:  12 枚                                  │
│  平均歩留まり:  87.5%                                  │
│  総コスト:      ¥0  (単価未設定)                       │
│                                                        │
└────────────────────────────────────────────────────────┘
```

**特徴**:

- 重要な情報を大きく表示
- 単価未設定の場合は注記
- シンプルで一目でわかる

#### 3.3.2 パターン一覧（グリッド表示）

```
┌──────────────────────────────────────────────────────────────┐
│ パターン一覧                                                  │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌───────────────────┐   ┌───────────────────┐              │
│  │ パターンA ×5枚    │   │ パターンB ×3枚    │              │
│  ├───────────────────┤   ├───────────────────┤              │
│  │                   │   │                   │              │
│  │   [配置図Canvas]  │   │   [配置図Canvas]  │              │
│  │                   │   │                   │              │
│  ├───────────────────┤   ├───────────────────┤              │
│  │ 歩留まり: 87.5%   │   │ 歩留まり: 85.2%   │              │
│  │ 1820×910mm        │   │ 1820×910mm        │              │
│  └───────────────────┘   └───────────────────┘              │
│                                                              │
│  ┌───────────────────┐   ┌───────────────────┐              │
│  │ パターンC ×2枚    │   │ パターンD ×2枚    │              │
│  ├───────────────────┤   ├───────────────────┤              │
│  │                   │   │                   │              │
│  │   [配置図Canvas]  │   │   [配置図Canvas]  │              │
│  │                   │   │                   │              │
│  ├───────────────────┤   ├───────────────────┤              │
│  │ 歩留まり: 90.1%   │   │ 歩留まり: 88.3%   │              │
│  │ 1820×910mm        │   │ 1820×910mm        │              │
│  └───────────────────┘   └───────────────────┘              │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**特徴**:

- グリッド形式（2カラム）で表示
- 各パターンをカード化
- パターン名、枚数、歩留まりを表示
- 配置図を大きく表示

#### 3.3.3 配置図の詳細

```
┌───────────────────────────────────────┐
│ パターンA ×5枚                         │
├───────────────────────────────────────┤
│                                       │
│  ┌─────────────────────────────────┐  │
│  │                                 │  │
│  │  ┌────┐  ┌──────────┐          │  │
│  │  │ A  │  │    B     │          │  │
│  │  │    │  │          │          │  │
│  │  └────┘  └──────────┘          │  │
│  │                                 │  │
│  │  ┌────────┐  ┌────┐            │  │
│  │  │   C    │  │ A  │            │  │
│  │  │        │  │    │            │  │
│  │  └────────┘  └────┘            │  │
│  │                                 │  │
│  └─────────────────────────────────┘  │
│                                       │
├───────────────────────────────────────┤
│ 歩留まり: 87.5%                        │
│ 元板サイズ: 1820 × 910 mm             │
└───────────────────────────────────────┘
```

**特徴**:

- Canvas/SVGで描画
- 製品を色分けして表示
- 製品名を中央に表示
- ホバーで詳細情報表示（将来的に）
- カット線を点線で表示（オプション）

#### 3.3.4 アクションボタン

```
┌────────────────────────────────────┐
│                                    │
│  [🖨 印刷]  [🗑 結果をクリア]      │
│                                    │
└────────────────────────────────────┘
```

**特徴**:

- アイコン付きでわかりやすく
- 印刷ボタンで印刷プレビュー表示
- クリアボタンで結果を削除

---

## 4. レスポンシブ対応方針

### 4.1 ブレークポイント

| デバイス     | 画面幅        | レイアウト             |
| ------------ | ------------- | ---------------------- |
| デスクトップ | 1024px以上    | 2カラム（入力 + 結果） |
| タブレット   | 768px〜1023px | 1カラム（入力 → 結果） |
| モバイル     | 768px未満     | 1カラム（入力 → 結果） |

### 4.2 レイアウトの変化

#### デスクトップ（1024px以上）

```
┌───────────┬────────────────┐
│  入力     │   結果表示      │
│  エリア   │   エリア        │
│           │                │
└───────────┴────────────────┘
```

#### タブレット・モバイル（1024px未満）

```
┌───────────────────────────┐
│  入力エリア                │
│                           │
└───────────────────────────┘
        ↓ スクロール
┌───────────────────────────┐
│  結果表示エリア            │
│                           │
└───────────────────────────┘
```

### 4.3 要素ごとの調整

| 要素           | デスクトップ    | タブレット          | モバイル                 |
| -------------- | --------------- | ------------------- | ------------------------ |
| 入力フォーム   | 固定幅（350px） | フル幅              | フル幅                   |
| 結果カード     | 2カラムグリッド | 1カラム             | 1カラム                  |
| 配置図サイズ   | 400×200px       | フル幅（最大400px） | フル幅                   |
| フォントサイズ | 16px            | 16px                | 14px                     |
| ボタンサイズ   | 標準            | 標準                | 大きめ（タップしやすく） |

---

## 5. カラーパレット

### 5.1 基本色

```
プライマリカラー（メイン）
  #3B82F6  (青)  - ボタン、リンク

セカンダリカラー（アクセント）
  #10B981  (緑)  - 成功メッセージ、計算完了

背景色
  #FFFFFF  (白)  - メイン背景
  #F9FAFB  (薄グレー) - カード背景
  #F3F4F6  (グレー) - 入力エリア背景

テキスト色
  #111827  (黒)  - メインテキスト
  #6B7280  (グレー) - サブテキスト
  #9CA3AF  (薄グレー) - プレースホルダー

ボーダー色
  #E5E7EB  (薄グレー) - カード枠、入力枠

エラー色
  #EF4444  (赤)  - エラーメッセージ
```

### 5.2 製品の色（配置図用）

視覚的に区別しやすい色のパレット:

```
#FF6B6B  (赤)
#4ECDC4  (水色)
#45B7D1  (青)
#FFA07A  (オレンジ)
#98D8C8  (緑)
#F7DC6F  (黄色)
#BB8FCE  (紫)
#85C1E2  (ライトブルー)
#F8B739  (ゴールド)
#52B788  (エメラルド)
#E76F51  (コーラル)
#2A9D8F  (ティール)
```

**特徴**:

- 彩度が高く区別しやすい
- 印刷時も見やすい
- 同じ製品は常に同じ色を使用

---

## 6. タイポグラフィ

### 6.1 フォント

```css
font-family:
  'Inter',
  'Noto Sans JP',
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  sans-serif;
```

**理由**:

- 日本語・英語どちらも読みやすい
- モダンで洗練された印象
- 数字が見やすい

### 6.2 フォントサイズ

| 要素   | サイズ          | 用途                 |
| ------ | --------------- | -------------------- |
| h1     | 24px (1.5rem)   | ページタイトル       |
| h2     | 20px (1.25rem)  | セクションタイトル   |
| h3     | 18px (1.125rem) | カードタイトル       |
| body   | 16px (1rem)     | 通常テキスト         |
| small  | 14px (0.875rem) | サブテキスト、説明文 |
| button | 16px (1rem)     | ボタンテキスト       |

### 6.3 フォントウェイト

| 要素         | ウェイト       |
| ------------ | -------------- |
| 見出し       | 600 (Semibold) |
| ボタン       | 500 (Medium)   |
| 通常テキスト | 400 (Regular)  |
| サブテキスト | 400 (Regular)  |

---

## 7. インタラクション設計

### 7.1 フォーム入力

**動作**:

- フォーカス時: ボーダー色が青に変化
- エラー時: ボーダー色が赤に変化、エラーメッセージ表示
- 入力中: リアルタイムバリデーション
- 自動保存: 入力後2秒でローカルストレージに保存

**フィードバック**:

```
正常時:
┌────────────────────────────────┐
│ 1820                           │ (青いボーダー)
└────────────────────────────────┘

エラー時:
┌────────────────────────────────┐
│ -100                           │ (赤いボーダー)
└────────────────────────────────┘
⚠ 0より大きい数値を入力してください
```

### 7.2 ボタン

**ホバー時**:

- 背景色が少し濃くなる
- カーソルがポインターに変化

**クリック時**:

- 少し縮む（scale: 0.98）
- 即座にフィードバック

**ローディング時**:

```
┌──────────────────────────────┐
│  [⏳] 計算中...              │
└──────────────────────────────┘
```

### 7.3 計算実行

**フロー**:

1. ユーザーが「計算実行」をクリック
2. ボタンがローディング状態に変化
3. 入力エリアがフェードアウト（薄くなる）
4. 計算完了後、結果エリアにアニメーションで表示
5. 結果エリアに自動スクロール

**アニメーション**:

- フェードイン: 0.3秒
- スライドイン: 0.5秒

### 7.4 製品の追加・削除

**追加時**:

- フォームをクリア
- 新しいカードがリストの最後に追加
- スムーズにスライドイン

**削除時**:

- 確認ダイアログ表示（「本当に削除しますか?」）
- OKでカードがフェードアウト
- リストから削除

### 7.5 配置図のインタラクション

**ホバー時（将来的に）**:

- 製品の上にカーソルを置くと、情報表示
  ```
  ┌───────────────────┐
  │ アイテムA         │
  │ 300 × 200 mm     │
  │ 回転: なし        │
  └───────────────────┘
  ```

**クリック時（v1.5以降）**:

- 製品を選択
- ドラッグ&ドロップで移動（手動調整機能）

---

## 8. 印刷レイアウト

### 8.1 印刷時の表示

```css
@media print {
  /* 入力エリアを非表示 */
  .input-section {
    display: none;
  }

  /* ヘッダー・フッターを非表示 */
  header,
  footer {
    display: none;
  }

  /* 結果エリアのみ表示 */
  .result-section {
    width: 100%;
  }

  /* 余白の調整 */
  @page {
    margin: 1cm;
  }

  /* ページ区切り */
  .pattern-card {
    page-break-inside: avoid;
  }

  /* 背景色を削除（インク節約） */
  * {
    background: white !important;
  }
}
```

### 8.2 印刷レイアウト例

```
┌─────────────────────────────────────────────┐
│  取り数最適化システム v1.0                   │
│  計算日時: 2025年12月2日 16:30              │
├─────────────────────────────────────────────┤
│                                             │
│  【計算結果サマリー】                        │
│  必要元板枚数: 12 枚                        │
│  平均歩留まり: 87.5%                        │
│  総コスト: ¥24,000                          │
│                                             │
├─────────────────────────────────────────────┤
│                                             │
│  ┌─────────────────┐  ┌─────────────────┐  │
│  │ パターンA ×5枚  │  │ パターンB ×3枚  │  │
│  │                 │  │                 │  │
│  │ [配置図]        │  │ [配置図]        │  │
│  │                 │  │                 │  │
│  │ 歩留まり: 87.5% │  │ 歩留まり: 85.2% │  │
│  └─────────────────┘  └─────────────────┘  │
│                                             │
│  ┌─────────────────┐  ┌─────────────────┐  │
│  │ パターンC ×2枚  │  │ パターンD ×2枚  │  │
│  │                 │  │                 │  │
│  │ [配置図]        │  │ [配置図]        │  │
│  │                 │  │                 │  │
│  │ 歩留まり: 90.1% │  │ 歩留まり: 88.3% │  │
│  └─────────────────┘  └─────────────────┘  │
│                                             │
└─────────────────────────────────────────────┘
```

**特徴**:

- 日付・時刻を自動挿入
- A4サイズに最適化
- 2カラムレイアウトで見やすく
- モノクロ印刷でも区別できるように

---

## 9. アクセシビリティ

### 9.1 キーボード操作

- **Tab**: 次の入力欄に移動
- **Shift + Tab**: 前の入力欄に移動
- **Enter**: フォーカス中のボタンを実行
- **Esc**: モーダルを閉じる

### 9.2 スクリーンリーダー対応

```html
<!-- ARIA属性を適切に設定 -->
<button aria-label="計算実行">計算実行</button>

<input type="number" aria-label="元板の幅" aria-required="true" aria-describedby="width-help" />

<span id="width-help" class="sr-only"> 元板の幅をミリメートル単位で入力してください </span>
```

### 9.3 色覚対応

- **コントラスト比**: WCAG AA基準（4.5:1以上）を満たす
- **色以外の手がかり**: 製品名、パターン名を併記
- **パターン・テクスチャ**: 色だけでなく、枠線でも区別

### 9.4 フォーカスインジケーター

```css
/* フォーカス時に明確なアウトラインを表示 */
*:focus {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}
```

---

## 10. エラー表示

### 10.1 フィールドレベルのエラー

```
幅 (mm) *
┌────────────────────────────────┐
│ -100                           │ (赤いボーダー)
└────────────────────────────────┘
⚠ 0より大きい数値を入力してください
```

### 10.2 フォームレベルのエラー

```
┌────────────────────────────────────┐
│ ⚠ エラー                           │
│ 製品を1つ以上登録してください       │
└────────────────────────────────────┘
```

### 10.3 計算エラー

```
┌────────────────────────────────────┐
│ ⚠ 計算エラー                       │
│ 製品が元板に収まりません。         │
│ 元板サイズを大きくするか、         │
│ 製品サイズを小さくしてください。   │
│                                    │
│        [再試行]                    │
└────────────────────────────────────┘
```

---

## 11. ローディング状態

### 11.1 計算中

```
┌────────────────────────────────────┐
│                                    │
│       [⏳]                          │
│      計算中...                      │
│                                    │
│  (くるくる回るスピナー)             │
│                                    │
└────────────────────────────────────┘
```

### 11.2 描画中

```
┌────────────────────────────────────┐
│ パターンA ×5枚                      │
├────────────────────────────────────┤
│                                    │
│  [配置図を描画中...]                │
│                                    │
│  (スケルトンローダー)               │
│                                    │
└────────────────────────────────────┘
```

---

## 12. 将来の拡張を見据えた設計

### 12.1 手動配置調整（v1.5）

```
配置図上に「編集モード」ボタンを追加
  ↓
編集モード時
  - 製品をドラッグ&ドロップで移動
  - グリッドスナップ機能
  - 配置可能エリアをハイライト
  - リアルタイムで歩留まりを再計算
```

### 12.2 端材管理（v2.0）

```
入力エリアに「端材」セクションを追加
  ├─ 端材サイズ入力
  ├─ 端材枚数入力
  └─ 端材優先使用のチェックボックス

結果表示に端材使用状況を追加
  └─ 「端材を3枚使用しました」
```

### 12.3 複雑形状対応（v5.0）

```
製品入力に「形状タイプ」を追加
  ├─ 矩形（デフォルト）
  ├─ L字型
  ├─ 台形
  └─ カスタム形状（描画ツール）
```

---

## 13. 成果物

### このIssueで明確にしたこと

- ✅ ワイヤーフレーム（デスクトップ・モバイル）
- ✅ 画面構成の詳細設計
- ✅ レスポンシブ対応方針
- ✅ カラーパレットとタイポグラフィ
- ✅ インタラクション設計
- ✅ アクセシビリティ考慮事項
- ✅ 印刷レイアウト

---

**Issue #3 完了条件**:

- [x] ワイヤーフレーム作成
- [x] 画面遷移図
- [x] レスポンシブ対応方針
- [x] UI/UX設計書の作成
