# 取り数最適化システム ロードマップ

**プロジェクト**: 取り数最適化システム
**作成日**: 2025年12月4日
**最終更新**: 2025年12月10日

---

## 📍 現在地

**現在のバージョン**: v1.2.1 ✅ (リリース済み)
**次のバージョン**: v1.3 🎯 (計画中)

---

## 🎯 ビジョン

実家の板金工場で実際に使える、高精度で使いやすい取り数最適化システムを構築する。
手作業よりも効率的な配置を自動生成し、材料費とコストを削減する。

---

## 📋 バージョン一覧

### ✅ v1.0 - 基本機能の実装（完了）

**リリース日**: 2025年12月3日

**実装内容**:

- ✅ Guillotine Cut + First Fit Decreasing アルゴリズム
- ✅ 元板設定（幅、高さ、単価）
- ✅ 切断設定（カット幅、余白）
- ✅ 製品入力（名前、サイズ、個数、色）
- ✅ 配置計算
- ✅ 結果表示（パターン一覧、配置図）
- ✅ 印刷機能
- ✅ プリセット機能

**成果**:

- 基本的な配置計算が可能
- UIが完成し、使いやすい
- 型安全性が高い（TypeScript）
- テストカバレッジあり

**課題**:

- 歩留まりが低い（70-75%）
- ギロチンカットの制約で最適解が見つからない
- 手動調整が必要なレベル

**関連ドキュメント**:

- [要件定義書](./docs/torikazu_app_requirements_v1.0.md)
- [アーキテクチャ設計書](./docs/architecture.md)
- [アルゴリズム詳細仕様書](./docs/algorithm-details.md)

---

### ✅ v1.1 - Maximal Rectangles実装（完了）

**リリース日**: 2025年12月9日

**目的**:
ギロチンカットの制約を外し、現場最低限レベルを達成する。

**実装内容**:

- ✅ Maximal Rectangles アルゴリズムの実装
- ✅ 4つのヒューリスティックを自動試行
  - Best Short Side Fit
  - Best Long Side Fit
  - Best Area Fit
  - Bottom Left
- ✅ ギロチンカットとの切り替え機能
- ✅ 回転考慮の改善

**成果**:

- 歩留まり率が大幅に向上
- L字型などの複雑な空きスペースを活用
- 元板枚数の削減
- 現場で使える最低限レベルを達成

**関連ドキュメント**:

- [v1.1設計書](./docs/versions/v1.1-design.md)

---

### ✅ v1.2 - 最適化強化（完了）

**リリース日**: 2025年12月10日

**目的**:
GA・グリッド配置・余りスペース最適化による実用性向上。

**実装内容**:

- ✅ 遺伝的アルゴリズム（GA）の実装
  - 配置順序とソート戦略の進化的最適化
  - より広い解空間の探索
- ✅ グリッド配置機能
  - 同じサイズの製品を格子状に配置
  - 動的グリッド生成（空きスペースに応じた最適化）
- ✅ 最適化目標の強化
  - 歩留まり優先
  - 余りスペース優先
- ✅ 余りスペース品質評価
  - 集中度・形状・サイズの3要素で評価
- ✅ バックトラッキング機能
  - 新規元板作成前に既存元板への配置を試行

**成果**:

- 歩留まり率のさらなる向上
- 元板枚数の最適化
- 余りスペースの再活用性向上
- 実用性の大幅な向上

**関連ドキュメント**:

- [v1.2設計書](./docs/versions/v1.2-design.md)

---

### ✅ v1.2.1 - UI改善（完了）

**リリース日**: 2025年12月10日

**目的**:
使いやすさの向上と設定変更→計算→比較のワークフロー改善。

**実装内容**:

- ✅ アルゴリズム選択をアコーディオン形式に変更
- ✅ 計算実行セクションを結果エリアの上部に移動
- ✅ 計算実行ボタンを大きく、視覚的に目立つように改善
- ✅ 新規コンポーネント（AlgorithmSelector, CalculationControl）

**成果**:

- ユーザーが頻繁に使う機能へのアクセス性向上
- 設定変更→計算→比較のワークフローが自然に
- レイアウトがすっきりして操作しやすく

---

### 🎯 v1.3 - 手動調整・標準余り材作成（計画中）

**予定リリース日**: 2026年1月

**目的**:
手動調整機能と標準サイズの余り材を意図的に作成する機能。

**実装内容（優先度順）**:

1. **標準サイズ余り材作成機能**
   - [ ] 1000×1000mm等の標準サイズの余り材を意図的に作成
   - [ ] 余り材サイズの優先順位設定
   - [ ] 標準サイズ余り材の在庫管理連携
2. **手動調整機能**
   - [ ] ドラッグ&ドロップで製品を移動
   - [ ] 製品の回転操作
   - [ ] 配置のスナップ機能
   - [ ] 歩留まりのリアルタイム更新
   - [ ] Undo/Redo機能

**期待される成果**:

- 次回使いやすい標準サイズの余り材を確保
- 余り材の再利用率向上によるコスト削減
- 自動配置の結果を微調整可能
- ユーザーの経験則を反映

**優先度**: 高

---

### 💡 v1.4 - 材料管理・優先度設定（計画中）

**予定リリース日**: 2026年2月

**目的**:
材料の違いや優先度を考慮した配置最適化。

**実装内容**:

- [ ] 材料属性の設定（板厚、色、仕上げ）
- [ ] 製品の優先度設定（急ぎ案件など）
- [ ] 同じ材料属性でグループ化
- [ ] 優先度に応じた配置順序の調整

**期待される成果**:

- 急ぎの仕事を優先配置
- 同じ色・仕上げの製品を同じ元板に
- より実務に即した配置

**優先度**: 中

---

### 🔮 v1.5 - 保存・共有機能（予定）

**予定リリース日**: 2026年3月

**実装内容**:

- [ ] プロジェクトの保存・読み込み
- [ ] クラウドストレージ連携
- [ ] 配置結果の共有（URL）
- [ ] 履歴管理
- [ ] エクスポート機能（CSV、PDF）

**優先度**: 中

---

### 🌟 v2.0 - AI最適化（構想）

**予定リリース日**: 2026年春

**構想**:

- [ ] 機械学習による配置最適化
- [ ] 過去のデータから学習
- [ ] ユーザーの好みを学習
- [ ] 複数元板のまとめて最適化

**優先度**: 低（研究段階）

---

## 📊 開発スケジュール

```
2025年12月
├─ 12/1-3   ● v1.0リリース ✅
├─ 12/4-9   ● v1.1開発・リリース ✅
├─ 12/10    ● v1.2, v1.2.1リリース ✅
└─ 12/11-31 ○ v1.3設計・準備

2026年1月
└─ v1.3開発（手動調整・標準余り材作成）

2026年2月
└─ v1.4開発（材料管理・優先度設定）

2026年3月
└─ v1.5開発（保存・共有機能）
```

---

## 🎯 成功基準

### v1.1の成功基準

- ✅ 歩留まり率が現在より5%以上向上
- ✅ Maximal Rectanglesアルゴリズムの実装
- ✅ 全てのテストがパス

### v1.2の成功基準

- ✅ GAとグリッド配置の実装
- ✅ 最適化目標の選択機能
- ✅ 余りスペース品質評価
- ✅ 計算時間が許容範囲内（GA使用時10-20秒）

### v1.3の成功基準（次回目標）

- [ ] 標準サイズ余り材を意図的に作成可能
- [ ] 手動調整機能の実装
- [ ] 余り材の再利用率向上

### プロジェクト全体の成功基準

- [ ] 実家で実際に使われている
- [ ] 材料費が10%以上削減
- [ ] 作業時間が短縮
- [ ] ユーザー満足度が高い

---

## 📈 メトリクス

### 測定指標

| 指標                     | v1.0 | v1.1 | v1.2    | v1.3目標 |
| ------------------------ | ---- | ---- | ------- | -------- |
| 平均歩留まり率           | 72%  | 80%+ | 85%+    | 90%+     |
| 計算時間（GAなし）       | 2秒  | 3秒  | 3秒     | 5秒      |
| 計算時間（GAあり）       | -    | -    | 10-20秒 | 10-20秒  |
| 元板枚数（テストデータ） | 5枚  | 4枚  | 3枚     | 3枚      |
| 余り材再利用率           | -    | -    | -       | 50%+     |
| ユーザー満足度           | -    | -    | -       | 80%+     |

---

## 🔧 開発・タスク管理方針

このプロジェクトは一人開発のため、シンプルな管理を重視します。

### タスク管理

- **ローカルのドキュメント**（ROADMAP.md、設計書）で計画を管理
- **Todoツール**は複数ステップがある場合のみ使用（過度な管理は避ける）
- **GitHub Issues**は使用しない
  - 理由: 手作業での移行が面倒、記録するには細かすぎる
  - 共同作業や外部からのフィードバック用に予約

### リリース管理

- **README.mdの更新履歴セクション**でバージョン管理
- リリース時に「何ができるようになったか」を明示
- コミットメッセージを明確に書く

### 原則

- **管理に手間をかけない** - 手が止まる原因を排除
- **シンプルな動線** - 複雑な管理ツールは使わない
- **実装に集中** - ドキュメントは必要最小限

---

## 🚀 次のアクション

### 完了

1. ✅ v1.0リリース（2025-12-03）
2. ✅ v1.1設計・開発・リリース（2025-12-09）
3. ✅ v1.2設計・開発・リリース（2025-12-10）
4. ✅ v1.2.1 UI改善リリース（2025-12-10）

### 今月中（12/11-12/31）

1. v1.3設計ドキュメントの作成
2. 標準余り材作成機能の設計
3. 手動調整機能のUI設計
4. 実家での使用フィードバック収集

### 来月（2026年1月）

1. v1.3の実装開始
2. 標準余り材作成アルゴリズムの実装
3. 手動調整UIの実装
4. テストとリリース

---

## 💬 フィードバック

このロードマップは開発の進捗に応じて随時更新されます。
バグ報告や機能要望は、公開後に GitHub Issues で受け付けます。

---

## 🔗 関連リンク

- [GitHub Repository](https://github.com/nomu-nora/cut-optimizer)
- [v1.0要件定義書](./docs/torikazu_app_requirements_v1.0.md)
- [v1.1設計書](./docs/versions/v1.1-design.md)
- [v1.2設計書](./docs/versions/v1.2-design.md)
- [v1.3設計書](./docs/versions/v1.3-design.md)
- [アーキテクチャ設計書](./docs/architecture.md)

---

**最終更新**: 2025年12月10日
**次回更新予定**: v1.3設計開始時
